(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,r,l)=>{r.exports=e.r(76562)},89954,e=>{"use strict";var r=e.i(43476),l=e.i(71645),t=e.i(18566);function o(){let e=(0,t.useRouter)(),[o,a]=(0,l.useState)(!1),[n,s]=(0,l.useState)(""),[i,u]=(0,l.useState)(""),[p,d]=(0,l.useState)(""),[c,m]=(0,l.useState)(!1),[g,x]=(0,l.useState)(null),b=async r=>{if(r.preventDefault(),x(null),(()=>{if(o){if(!n.trim()||!i.trim()||!p.trim())return x("Please enter email, username, and password."),!1;if(p.length<6)return x("Password must be at least 6 characters."),!1}else if(!i.trim()||!p.trim())return x("Please enter username and password."),!1;return!0})()){m(!0);try{let r=o?{email:n,username:i,password:p}:{username:i,password:p},l=await fetch(o?"/api/signup":"/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(l.ok)return void e.replace("/");let t=await l.json().catch(()=>null);x(t?.error||(o?"Signup failed.":"Login failed. Check credentials."))}catch(e){x("Network error. Try again.")}finally{m(!1)}}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-950 via-purple-900 to-indigo-950 p-6",children:(0,r.jsxs)("div",{className:"w-full max-w-md bg-purple-800/30 backdrop-blur-sm border border-purple-700/50 rounded-2xl shadow-lg p-8",children:[(0,r.jsx)("div",{className:"mb-4 flex justify-center",children:(0,r.jsx)("img",{src:"/logo.png",alt:"App logo",className:"w-20 h-20 object-contain rounded-md",onError:e=>{e.target.style.display="none"}})}),(0,r.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{a(!1),x(null),s("")},className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${!o?"bg-gradient-to-r from-sky-500 to-indigo-500 text-white shadow-md":"bg-purple-700/30 text-purple-200 hover:bg-purple-700/50"}`,children:"Sign In"}),(0,r.jsx)("button",{type:"button",onClick:()=>{a(!0),x(null)},className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${o?"bg-gradient-to-r from-sky-500 to-indigo-500 text-white shadow-md":"bg-purple-700/30 text-purple-200 hover:bg-purple-700/50"}`,children:"Sign Up"})]}),(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-purple-100",children:o?"Create your account":"Welcome back"}),(0,r.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[o&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-purple-200 mb-1",children:"Email"}),(0,r.jsx)("input",{value:n,onChange:e=>s(e.target.value),type:"email",className:"w-full rounded-lg border border-purple-700/50 bg-purple-900/30 text-purple-100 placeholder-purple-400/50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"you@example.com",autoComplete:"email"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-purple-200 mb-1",children:o?"Username":"Username or Email"}),(0,r.jsx)("input",{value:i,onChange:e=>u(e.target.value),className:"w-full rounded-lg border border-purple-700/50 bg-purple-900/30 text-purple-100 placeholder-purple-400/50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:o?"username":"username or email",autoComplete:"username"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-purple-200 mb-1",children:"Password"}),(0,r.jsx)("input",{value:p,onChange:e=>d(e.target.value),type:"password",className:"w-full rounded-lg border border-purple-700/50 bg-purple-900/30 text-purple-100 placeholder-purple-400/50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"••••••••",autoComplete:o?"new-password":"current-password"})]}),g&&(0,r.jsx)("div",{className:"text-sm text-red-300 bg-red-900/30 border border-red-700/50 p-3 rounded-lg",children:g}),(0,r.jsx)("button",{type:"submit",disabled:c,className:`w-full px-4 py-2 cursor-pointer rounded-lg text-white font-medium transition-all ${c?"bg-purple-700/50 cursor-not-allowed":"bg-gradient-to-r from-sky-500 to-indigo-500 hover:scale-[1.02] hover:shadow-lg"}`,children:c?o?"Creating account...":"Signing in...":o?"Sign Up":"Sign In"})]})]})})}e.s(["default",()=>o])}]);