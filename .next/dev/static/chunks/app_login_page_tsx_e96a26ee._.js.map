{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/my-flux-saas/app/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Image from \"next/image\";\n\nexport default function LoginPage(): JSX.Element {\n  const router = useRouter();\n  const [isSignup, setIsSignup] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const validate = () => {\n    if (isSignup) {\n      if (!email.trim() || !username.trim() || !password.trim()) {\n        setError(\"Please enter email, username, and password.\");\n        return false;\n      }\n      if (password.length < 6) {\n        setError(\"Password must be at least 6 characters.\");\n        return false;\n      }\n    } else {\n      if (!username.trim() || !password.trim()) {\n        setError(\"Please enter username and password.\");\n        return false;\n      }\n    }\n    return true;\n  };\n\n  const onSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    if (!validate()) return;\n\n    setSubmitting(true);\n    try {\n      const endpoint = isSignup ? \"/api/signup\" : \"/api/login\";\n      const body = isSignup\n        ? { email, username, password }\n        : { username, password };\n\n      const res = await fetch(endpoint, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(body),\n        credentials: \"include\",\n      });\n\n      if (res.ok) {\n        // login/signup succeeded; server set httpOnly cookie\n        router.replace(\"/\");\n        return;\n      }\n\n      const data = await res.json().catch(() => null);\n      setError(\n        data?.error ||\n          (isSignup ? \"Signup failed.\" : \"Login failed. Check credentials.\")\n      );\n    } catch (err) {\n      setError(\"Network error. Try again.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-950 via-purple-900 to-indigo-950 p-6\">\n      <div className=\"w-full max-w-md bg-purple-500/15 backdrop-blur-sm border border-purple-400/20 rounded-2xl shadow-lg p-6\">\n        <div className=\"mb-1 relative flex justify-center w-24 h-24\">\n          <Image\n            src=\"/logo.png\"\n            alt=\"App logo\"\n            fill\n            className=\"rounded-md object-contain\"\n          />\n        </div>\n\n        <div className=\"flex gap-4 mb-6\">\n          <button\n            type=\"button\"\n            onClick={() => {\n              setIsSignup(false);\n              setError(null);\n              setEmail(\"\");\n            }}\n            className={`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${\n              !isSignup\n                ? \"bg-gradient-to-r from-sky-500 to-indigo-500 cursor-pointer text-white shadow-md\"\n                : \"bg-purple-700/30 text-purple-200 hover:bg-purple-700/50 cursor-pointer\"\n            }`}\n          >\n            Sign In\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => {\n              setIsSignup(true);\n              setError(null);\n            }}\n            className={`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${\n              isSignup\n                ? \"bg-gradient-to-r from-sky-500 to-indigo-500 cursor-pointer text-white shadow-md\"\n                : \"bg-purple-700/30 text-purple-200 hover:bg-purple-700/50 cursor-pointer\"\n            }`}\n          >\n            Sign Up\n          </button>\n        </div>\n\n        <h2 className=\"text-2xl font-semibold mb-6 text-purple-100\">\n          {isSignup ? \"Create your account\" : \"Welcome back\"}\n        </h2>\n\n        <form onSubmit={onSubmit} className=\"space-y-4\">\n          {isSignup && (\n            <div>\n              <label className=\"block text-xs font-medium text-purple-200 mb-1\">\n                Email\n              </label>\n              <input\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                type=\"email\"\n                className=\"w-full rounded-lg border border-purple-700/50 bg-purple-900/30 text-purple-100 placeholder-purple-400/50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                placeholder=\"you@example.com\"\n                autoComplete=\"email\"\n              />\n            </div>\n          )}\n\n          <div>\n            <label className=\"block text-xs font-medium text-purple-200 mb-1\">\n              {isSignup ? \"Username\" : \"Username or Email\"}\n            </label>\n            <input\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              className=\"w-full rounded-lg border border-purple-700/50 bg-purple-900/30 text-purple-100 placeholder-purple-400/50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n              placeholder={isSignup ? \"username\" : \"username or email\"}\n              autoComplete=\"username\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-xs font-medium text-purple-200 mb-1\">\n              Password\n            </label>\n            <input\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              type=\"password\"\n              className=\"w-full rounded-lg border border-purple-700/50 bg-purple-900/30 text-purple-100 placeholder-purple-400/50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n              placeholder=\"••••••••\"\n              autoComplete={isSignup ? \"new-password\" : \"current-password\"}\n            />\n          </div>\n\n          {error && (\n            <div className=\"text-sm text-red-300 bg-red-900/30 border border-red-700/50 p-3 rounded-lg\">\n              {error}\n            </div>\n          )}\n\n          <button\n            type=\"submit\"\n            disabled={submitting}\n            className={`w-full px-4 py-2 cursor-pointer rounded-lg text-white font-medium transition-all ${\n              submitting\n                ? \"bg-purple-700/50 cursor-not-allowed\"\n                : \"bg-gradient-to-r from-sky-500 to-indigo-500 hover:scale-[1.02] hover:shadow-lg\"\n            }`}\n          >\n            {submitting\n              ? isSignup\n                ? \"Creating account...\"\n                : \"Signing in...\"\n              : isSignup\n              ? \"Sign Up\"\n              : \"Sign In\"}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}