{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/module.compiled.js","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","turbopack:///[project]/app/login/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","\n\"use client\";\n\nimport React, { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function LoginPage(): JSX.Element {\n  const router = useRouter();\n  const [isSignup, setIsSignup] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const validate = () => {\n    if (isSignup) {\n      if (!email.trim() || !username.trim() || !password.trim()) {\n        setError(\"Please enter email, username, and password.\");\n        return false;\n      }\n      if (password.length < 6) {\n        setError(\"Password must be at least 6 characters.\");\n        return false;\n      }\n    } else {\n      if (!username.trim() || !password.trim()) {\n        setError(\"Please enter username and password.\");\n        return false;\n      }\n    }\n    return true;\n  };\n\n  const onSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    if (!validate()) return;\n\n    setSubmitting(true);\n    try {\n      const endpoint = isSignup ? \"/api/signup\" : \"/api/login\";\n      const body = isSignup\n        ? { email, username, password }\n        : { username, password };\n\n      const res = await fetch(endpoint, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(body),\n      });\n\n      if (res.ok) {\n        // login/signup succeeded; server set httpOnly cookie\n        router.replace(\"/\"); \n        return;\n      }\n\n      const data = await res.json().catch(() => null);\n      setError(data?.error || (isSignup ? \"Signup failed.\" : \"Login failed. Check credentials.\"));\n    } catch (err) {\n      setError(\"Network error. Try again.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-950 via-purple-900 to-indigo-950 p-6\">\n      <div className=\"w-full max-w-md bg-purple-800/30 backdrop-blur-sm border border-purple-700/50 rounded-2xl shadow-lg p-8\">\n        \n        <div className=\"mb-4 flex justify-center\">\n          \n          <img\n            src=\"/logo.png\"\n            alt=\"App logo\"\n            className=\"w-20 h-20 object-contain rounded-md\"\n            onError={(e) => {\n\n              (e.target as HTMLImageElement).style.display = \"none\";\n            }}\n          />\n        </div>\n\n        <div className=\"flex gap-4 mb-6\">\n          <button\n            type=\"button\"\n            onClick={() => {\n              setIsSignup(false);\n              setError(null);\n              setEmail(\"\");\n            }}\n            className={`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${\n              !isSignup\n                ? \"bg-gradient-to-r from-sky-500 to-indigo-500 text-white shadow-md\"\n                : \"bg-purple-700/30 text-purple-200 hover:bg-purple-700/50\"\n            }`}\n          >\n            Sign In\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => {\n              setIsSignup(true);\n              setError(null);\n            }}\n            className={`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${\n              isSignup\n                ? \"bg-gradient-to-r from-sky-500 to-indigo-500 text-white shadow-md\"\n                : \"bg-purple-700/30 text-purple-200 hover:bg-purple-700/50\"\n            }`}\n          >\n            Sign Up\n          </button>\n        </div>\n\n        <h2 className=\"text-2xl font-semibold mb-6 text-purple-100\">\n          {isSignup ? \"Create your account\" : \"Welcome back\"}\n        </h2>\n\n        <form onSubmit={onSubmit} className=\"space-y-4\">\n          {isSignup && (\n            <div>\n              <label className=\"block text-xs font-medium text-purple-200 mb-1\">Email</label>\n              <input\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                type=\"email\"\n                className=\"w-full rounded-lg border border-purple-700/50 bg-purple-900/30 text-purple-100 placeholder-purple-400/50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                placeholder=\"you@example.com\"\n                autoComplete=\"email\"\n              />\n            </div>\n          )}\n\n          <div>\n            <label className=\"block text-xs font-medium text-purple-200 mb-1\">\n              {isSignup ? \"Username\" : \"Username or Email\"}\n            </label>\n            <input\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              className=\"w-full rounded-lg border border-purple-700/50 bg-purple-900/30 text-purple-100 placeholder-purple-400/50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n              placeholder={isSignup ? \"username\" : \"username or email\"}\n              autoComplete=\"username\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-xs font-medium text-purple-200 mb-1\">Password</label>\n            <input\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              type=\"password\"\n              className=\"w-full rounded-lg border border-purple-700/50 bg-purple-900/30 text-purple-100 placeholder-purple-400/50 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n              placeholder=\"••••••••\"\n              autoComplete={isSignup ? \"new-password\" : \"current-password\"}\n            />\n          </div>\n\n          {error && <div className=\"text-sm text-red-300 bg-red-900/30 border border-red-700/50 p-3 rounded-lg\">{error}</div>}\n\n          <button\n            type=\"submit\"\n            disabled={submitting}\n            className={`w-full px-4 py-2 cursor-pointer rounded-lg text-white font-medium transition-all ${\n              submitting\n                ? \"bg-purple-700/50 cursor-not-allowed\"\n                : \"bg-gradient-to-r from-sky-500 to-indigo-500 hover:scale-[1.02] hover:shadow-lg\"\n            }`}\n          >\n            {submitting\n              ? isSignup\n                ? \"Creating account...\"\n                : \"Signing in...\"\n              : isSignup\n              ? \"Sign Up\"\n              : \"Sign In\"}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":["module","exports","require","vendored","React","AppRouterContext","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime"],"mappings":"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","ignoreList":[0,1,2,3,4,5]}